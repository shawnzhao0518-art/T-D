<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>T&D Autocare | ä¸“ä¸šæ±½è½¦ç»´ä¿®ä¸ä¿å…»</title>
    <meta name="description" content="T&D Autocareâ€”â€”ä¸“ä¸šæ±½è½¦ç»´ä¿®ã€ä¿å…»ã€é’£é‡‘å–·æ¼†ä¸è½®èƒæœåŠ¡ã€‚åœ¨çº¿é¢„çº¦ï¼Œé€æ˜æŠ¥ä»·ï¼Œå“è´¨ä¿è¯ã€‚">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" href="./logo.png" type="image/png" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>

  <body>
    <a class="skip-link" href="#main">è·³åˆ°ä¸»è¦å†…å®¹</a>

    <header class="site-header">
      <div class="container header-inner">
        <a href="#" class="brand">
          <img src="./logo.png" alt="T&D Autocare Logo" class="brand-logo" />
          <span class="brand-name">T&D Autocare</span>
        </a>
        <nav id="site-nav" class="site-nav" aria-label="ä¸»å¯¼èˆª">
          <ul>
            <li><a href="#services">æœåŠ¡é¡¹ç›®</a></li>
            <li><a href="#about">å…³äºæˆ‘ä»¬</a></li>
            <li><a href="#contact">è”ç³»æˆ‘ä»¬</a></li>
            <li><a class="btn btn-primary" href="#booking">åœ¨çº¿é¢„çº¦</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main">
      <section class="hero">
        <div class="container hero-inner">
          <div class="hero-copy">
            <h1>ä¸“ä¸šæ±½è½¦ç»´ä¿®ä¸ä¿å…»</h1>
            <p>é€æ˜æŠ¥ä»· Â· åŸå‚æ ‡å‡† Â· å¿«é€Ÿäº¤ä»˜ã€‚æ¯ä¸€æ¬¡æœåŠ¡ï¼Œéƒ½è®©æ‚¨æ›´æ”¾å¿ƒã€‚</p>
            <div class="hero-cta">
              <a class="btn btn-primary" href="#booking">ç«‹å³é¢„çº¦</a>
              <a class="btn btn-outline" href="#services">äº†è§£æœåŠ¡</a>
            </div>
            <ul class="badges">
              <li>ä¸€å¹´/20,000å…¬é‡Œè´¨ä¿</li>
              <li>å½“å¤©å¿«ä¿®</li>
              <li>åŸå‚çº§æ£€æµ‹</li>
            </ul>
          </div>
          <div class="hero-media">
            <img src="./hero_garage.png" alt="æ•´æ´çš„ç»¿è‰²ä¸»é¢˜æ±½ä¿®è½¦é—´ä¸æŠ€å¸ˆ" />
          </div>
        </div>
      </section>

      <section id="booking" class="section section-accent">
        <div class="container">
          <h2 class="section-title">åœ¨çº¿é¢„çº¦</h2>
          <form id="booking-form" class="form card" novalidate>
            <div class="form-row">
              <label>å§“å<input type="text" name="name" required placeholder="æ‚¨çš„å§“å" /></label>
              <label>æ‰‹æœº<input type="tel" name="phone" required placeholder="ä¾‹å¦‚ 13800000000" /></label>
            </div>

            <div class="form-row">
              <label>è½¦å‹<input type="text" name="car" required placeholder="å“ç‰Œ / è½¦å‹ / å¹´æ¬¾" /></label>
              <label>æ—¥æœŸ<input type="date" name="date" required /></label>
              <label>æ—¶é—´<input type="time" name="time" required /></label>
            </div>

            <label>æœåŠ¡ç±»å‹
              <input type="text" name="service" required placeholder="è¯·è¾“å…¥æ‚¨éœ€è¦çš„æœåŠ¡ï¼ˆå¦‚ï¼šæ›´æ¢æœºæ²¹ã€æ£€æŸ¥åˆ¹è½¦ï¼‰" />
            </label>

            <label>å¤‡æ³¨<textarea name="note" rows="3" placeholder="ç®€å•æè¿°æ‚¨çš„éœ€æ±‚æˆ–æ•…éšœç°è±¡"></textarea></label>

            <div class="form-actions">
              <button class="btn btn-primary" type="submit">æäº¤é¢„çº¦</button>
              <p id="form-status" role="status" aria-live="polite"></p>
            </div>
          </form>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container about-grid">
          <div>
            <h2 class="section-title">å…³äº T&D Autocare</h2>
            <p>æˆ‘ä»¬æ˜¯ä¸€å®¶ä»¥"ä¸“ä¸šã€é€æ˜ã€å®ˆæ—¶"ä¸ºå®—æ—¨çš„ç°ä»£åŒ–æ±½ä¿®ä¸­å¿ƒã€‚å›¢é˜Ÿæ‹¥æœ‰10å¹´ä»¥ä¸Šå“ç‰Œ4Såº—ç»éªŒï¼Œé…å¤‡åŸå‚çº§è¯Šæ–­è®¾å¤‡ä¸å·¥è£…ï¼Œä¸¥æ ¼æ‰§è¡Œæ ‡å‡†åŒ–æµç¨‹ã€‚</p>
          </div>
        </div>
      </section>

      <section id="contact" class="section">
        <div class="container contact-grid">
          <div>
            <h2 class="section-title">è”ç³»æˆ‘ä»¬</h2>
            <ul class="contact-list">
              <li><strong>ç”µè¯ï¼š</strong><a href="tel:+61297928828">+61 2 9792 8828</a></li>
              <li><strong>åœ°å€ï¼š</strong>78 Gibson Ave, Padstow NSW 2211, Australia</li>
            </ul>
          </div>
          <div class="map-wrap">
            <iframe
              title="T&D Autocare Location"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q=78+Gibson+Ave+Padstow+NSW+2211+Australia&output=embed">
            </iframe>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <a href="#" class="brand small">
          <img src="./logo.png" alt="T&D Autocare Logo" class="brand-logo" />
          <span class="brand-name">T&D Autocare</span>
        </a>
        <p>Â© <span id="year"></span> T&D Autocare | è¯šä¿¡ç»è¥ Â· ä¸“ä¸šæœåŠ¡</p>
      </div>
    </footer>

    <!-- å³ä¸‹è§’æ‚¬æµ®å¯¼èˆªæŒ‰é’® -->
    <a href="https://www.google.com/maps/dir/?api=1&destination=78+Gibson+Ave+Padstow+NSW+2211+Australia"
       target="_blank" 
       class="map-float-btn"
       aria-label="å¯¼èˆªåˆ° T&D Autocare">ğŸ“</a>

    <style>
      .map-float-btn {
        position: fixed;
        right: 24px;
        bottom: 24px;
        width: 56px;
        height: 56px;
        background: #007aff;
        color: #fff;
        font-size: 28px;
        line-height: 56px;
        text-align: center;
        border-radius: 50%;
        text-decoration: none;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        transition: background 0.3s, transform 0.3s;
        z-index: 1000;
      }
      .map-float-btn:hover {
        background: #005fcc;
        transform: scale(1.05);
      }
    </style>

    <script type="module">
      const supabaseUrl = 'https://mgrorhbschtyrdrekfhb.supabase.co';
      const supabaseKey = 'sb_publishable_bbYg4Bl2F5uHC_3XqdH2RA_NOnp3wfc';
      const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

      const bookingForm = document.getElementById('booking-form');
      const statusEl = document.getElementById('form-status');
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();

      bookingForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        statusEl.textContent = 'æäº¤ä¸­ï¼Œè¯·ç¨å€™...';

        const formData = new FormData(bookingForm);
        const record = {
          date: formData.get('date'),
          time: formData.get('time') || '09:30:00',
          car: formData.get('car') || 'æœªå¡«å†™',
          mileage: '',
          plate: '',
          project: formData.get('service'),
          price: null,
          contact: `${formData.get('name')} / ${formData.get('phone')}`,
          note: formData.get('note') || '',
          source: 'customer'
        };

        try {
          const { error } = await supabaseClient.from('tasks').insert([record]);
          if (error) throw error;
          statusEl.textContent = 'âœ… æäº¤æˆåŠŸï¼æˆ‘ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»ã€‚';
          bookingForm.reset();
          setTimeout(() => (statusEl.textContent = ''), 3000);
        } catch (err) {
          console.error(err);
          statusEl.textContent = 'âŒ æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚';
        }
      });
    </script>
  </body>
</html>
